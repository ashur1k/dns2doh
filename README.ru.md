# DNS-over-HTTPS прокси-сервер на Golang

Этот проект представляет собой прокси-сервер, который позволяет перенаправлять DNS-запросы через DoH-сервер (DNS-over-HTTPS). Сервер прослушивает запросы на порту 53 и отправляет их на заданный DoH-сервер для получения ответа. Затем ответ отправляется обратно на исходный адрес запроса.

## Зависимости

Для запуска сервера необходим Go версии 1.15 или выше.

## Установка

1. Склонируйте репозиторий:

   ```sh
   git clone https://github.com/ashur1k/dns2doh.git
   ```

2. Перейдите в директорию с проектом:

   ```sh
   cd dns2doh
   ```

3. Соберите проект:

   ```sh
   go build
   ```

## Использование

### Флаги командной строки

```text
-get
```

Установите, чтобы использовать запросы GET вместо POST для отправки DNS-запросов.

```text
-ip6
```

Установите, чтобы использовать запросы IPv6 вместо IPv4.

```text
-doh
```

Установите пользовательский DoH-сервер для обработки запросов. По умолчанию используется `https://adguard.stealbit.com/dns-query`.

```text
-port
```

Установите порт для прослушивания DNS-запросов. По умолчанию установлен порт 53.

```text
-address
```

Установите IP-адрес для прослушивания DNS-запросов. По умолчанию установлен адрес `0.0.0.0`.

### Запуск сервера

1. Запустите сервер:

   ```sh
   ./dns2doh
   ```

2. Отправьте DNS-запрос на порт 53 сервера.

## Вклад

Если у вас есть предложения или замечания по коду, пожалуйста, создайте issue или pull request.
